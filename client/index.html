<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="PlayAgario.fun - Win SOL prizes every 10 minutes!">
    <meta name="keywords" content="agario, agar, io, cell, cells, virus, bacteria, blob, game, games, web game, html5, fun, solana, sol">
    <meta name="robots" content="index, follow">
    <meta name="viewport" content="minimal-ui, width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>PlayAgario.fun - Win SOL Every Round!</title>

    <link id="favicon" rel="icon" type="image/png" href="assets/img/favicon.png" />
    <link href='https://fonts.googleapis.com/css?family=Ubuntu:700' rel='stylesheet' type='text/css'>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/index.css" rel="stylesheet">

    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/log.js"></script>
    <script src="assets/js/vector.js"></script>
    <script src="assets/js/main_out.js"></script>

    <style>
        body {
            height: 10000vh !important;
            position: static !important;
            overscroll-behavior: none;
        }
    
        flutter-view {
            position: fixed !important;
            max-width: 100vw !important;
            max-height: 100vh !important;
        }
        
        /* Better colors for UI */
        #helloDialog {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
        }
        
        #title {
            color: #667eea;
            font-size: 2.5em;
        }
        
        #motd {
            color: #764ba2;
        }
        
        .prize-info {
            background: linear-gradient(135deg, #FFD700, #FFA500);
            padding: 10px;
            border-radius: 10px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
            color: #000;
        }
        
        .social-buttons {
            margin: 10px 0;
            text-align: center;
        }
        
        .social-btn {
            display: inline-block;
            padding: 10px 20px;
            margin: 0 5px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.2s;
        }
        
        .social-btn:hover {
            transform: scale(1.05);
            text-decoration: none;
        }
        
        .twitter-btn {
            background: #1DA1F2;
            color: white !important;
        }
        
        .pumpfun-btn {
            background: linear-gradient(135deg, #8B5CF6, #EC4899);
            color: white !important;
        }
        
        #play-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border: none;
        }
        
        #play-btn:hover {
            background: linear-gradient(135deg, #764ba2, #667eea);
        }
        
        /* Safari-specific CSS */
        @supports (-webkit-touch-callout: inherit) {
            body {
                height: 1vh !important;
            }
        }
    </style>
</head>

<body>
    <div class="modal fade" id="inPageModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 id="inPageModalTitle" class="modal-title">Failed to Load</h4>
                </div>
                <div id="inPageModalBody" class="modal-body">
                    <p>Failed to load. Please check your connection!</p>
                    <div class="center">
                        <div class="loader"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    
    <div id="overlays">
        <div id="helloDialog">
            <form role="form">
                <div class="form-group">
                    <h2 id="title">PlayAgario.fun</h2>
                    <h6 id="motd">Win SOL Every 10 Minutes!</h6>
                </div>

                <div class="prize-info">
                    ðŸ’° Round winner gets creator's fee in SOL! ðŸ’°
                </div>

                <div class="form-group">
                    <input id="nick" class="form-control save" data-box-id="0" 
                           placeholder="Use your SOL address as name!" 
                           maxlength="50" />
                    <br clear="both" />
                </div>

                <div class="social-buttons">
                    <a href="https://x.com/PlayAgario_Fun" target="_blank" class="social-btn twitter-btn">
                        Twitter/X
                    </a>
                    <a href="https://pump.fun/coin/DbBqQVx3sSkrzM6LXDBH4Nto2BS6eFqcKeheyvC6pump" target="_blank" class="social-btn pumpfun-btn">
                        Pump.fun
                    </a>
                </div>

                <div class="form-group">
                    <button type="submit" id="play-btn" onclick="setNick(document.getElementById('nick').value); return false;" 
                            class="btn btn-play btn-primary btn-needs-server">Play</button>
                    <button onclick="$('#settings, #instructions').toggle(); return false;" 
                            class="btn btn-info btn-settings" id="settings-btn">
                        <i class="glyphicon glyphicon-cog"></i>
                    </button>
                    <br clear="both" />
                </div>

                <div id="settings" class="checkbox" style="display:none;">
                    <div class="form-group" id="mainform">
                        <button id="spectate-btn" onclick="spectate(); return false;" 
                                style="width: 100%" class="btn btn-warning btn-spectate btn-needs-server">
                            Spectate
                        </button>
                        <br clear="both" />
                    </div>
                    <div style="margin: 6px;">
                        <label><input type="checkbox" class="save" data-box-id="1" onchange="setSkins(!$(this).is(':checked'));"> No skins</label>
                        <label><input type="checkbox" class="save" data-box-id="2" onchange="setNames(!$(this).is(':checked'));"> No names</label>
                        <label><input type="checkbox" class="save" data-box-id="3" onchange="setDarkTheme($(this).is(':checked'));"> Dark Theme</label>
                        <label><input type="checkbox" class="save" data-box-id="4" onchange="setColors($(this).is(':checked'));"> No colors</label>
                        <label><input type="checkbox" class="save" data-box-id="5" onchange="setShowMass($(this).is(':checked'));"> Show mass</label>
                        <label><input type="checkbox" class="save" data-box-id="6" onchange="setSmooth($(this).is(':checked'));"> Smooth Render</label>
                        <label><input type="checkbox" class="save" data-box-id="7" onchange="setChatHide($(this).is(':checked'));"> Hide Chat</label>
                    </div>
                </div>
            </form>

            <hr />
            <div id="footer">
                <a href="https://x.com/PlayAgario_Fun" class="text-muted">Twitter/X</a> | 
                <a href="https://pump.fun/coin/DbBqQVx3sSkrzM6LXDBH4Nto2BS6eFqcKeheyvC6pump" class="text-muted">Pump.fun</a>
            </div>
        </div>
    </div>

    <div id="connecting">
        <div style="width: 350px; background-color: #FFFFFF; margin: 100px auto; border-radius: 15px; padding: 5px 15px 5px 15px;">
            <h2>Connecting</h2>
            <p>Joining PlayAgario.fun...</p>
        </div>
    </div>

    <canvas id="canvas" width="800" height="600"></canvas>
    <input type="text" id="chat_textbox" placeholder="Press enter to chat!" maxlength="200" />
    <div style="font-family:'Ubuntu'">&nbsp;</div>

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script>
        window.scroll(0, window.document.body.scrollHeight);
    </script>
</body>
</html>
